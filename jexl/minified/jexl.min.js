"use strict";var e=require("@babel/runtime/helpers/interopRequireDefault"),r=e(require("@babel/runtime/helpers/defineProperty")),a=e(require("@babel/runtime/helpers/classCallCheck")),n=e(require("@babel/runtime/helpers/createClass")),t=require("./Expression"),i=require("./grammar").getGrammar,u=function(){function e(){(0,a.default)(this,e),this.expr=this.expr.bind(this),this._grammar=i()}return(0,n.default)(e,[{key:"addBinaryOp",value:function(e,a,n,t){this._addGrammarElement(e,(0,r.default)({type:"binaryOp",precedence:a},t?"evalOnDemand":"eval",n))}},{key:"addFunction",value:function(e,r){this._grammar.functions[e]=r}},{key:"addFunctions",value:function(e){for(var r in e)this._grammar.functions[r]=e[r]}},{key:"addUnaryOp",value:function(e,r){this._addGrammarElement(e,{type:"unaryOp",weight:1/0,eval:r})}},{key:"addTransform",value:function(e,r){this._grammar.transforms[e]=r}},{key:"addTransforms",value:function(e){for(var r in e)this._grammar.transforms[r]=e[r]}},{key:"compile",value:function(e){return this.createExpression(e).compile()}},{key:"createExpression",value:function(e){return new t(this._grammar,e)}},{key:"getFunction",value:function(e){return this._grammar.functions[e]}},{key:"getTransform",value:function(e){return this._grammar.transforms[e]}},{key:"eval",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.createExpression(e).eval(r)}},{key:"evalSync",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.createExpression(e).evalSync(r)}},{key:"expr",value:function(e){for(var r=arguments.length,a=new Array(r>1?r-1:0),n=1;n<r;n++)a[n-1]=arguments[n];var t=e.reduce((function(e,r,n){return e+=r+(n<a.length?a[n]:"")}),"");return this.createExpression(t)}},{key:"removeOp",value:function(e){!this._grammar.elements[e]||"binaryOp"!==this._grammar.elements[e].type&&"unaryOp"!==this._grammar.elements[e].type||delete this._grammar.elements[e]}},{key:"_addGrammarElement",value:function(e,r){this._grammar.elements[e]=r}}]),e}();module.exports=new u,module.exports.Jexl=u;
//# sourceMappingURL=jexl.min.js.map
